<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TechCare Computers - Products</title>

<style>
  *{margin:0;padding:0;box-sizing:border-box;font-family:"Poppins",sans-serif;}
  body{background-color:#f5f5f5;color:#333;}
  .container{max-width:1200px;margin:40px auto;padding:0 20px;}
  h2{text-align:center;margin-bottom:20px;}
  .categories{text-align:center;margin-bottom:25px;}
  .categories button{background:#131314;color:white;border:none;padding:10px 20px;border-radius:8px;margin:5px;cursor:pointer;transition:0.3s;}
  .categories button.active,.categories button:hover{background:#454649;}
  .products{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;}
  .product{background:white;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,0.1);padding:15px;text-align:center;transition:0.3s;height:420px;display:flex;flex-direction:column;justify-content:space-between;}
  .product img{width:100%;height:240px;object-fit:contain;border-radius:8px;}
  .product h3{color:#0d6efd;margin:8px 0;}
  .desc{font-size:13px;color:#555;min-height:30px;margin-bottom:24px;}
  .price{font-weight:bold;color:red;}
  .product button{background:#101010;color:white;border:none;padding:8px 10px;border-radius:6px;cursor:pointer;}

  /* Floating Cart Icon */
  #floatingCart{position:fixed;right:20px;bottom:25px;width:60px;height:60px;background:#0d6efd;color:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:26px;cursor:pointer;box-shadow:0 4px 12px rgba(0,0,0,0.3);z-index:999;}
  #floatingCart:hover{transform:scale(1.1);background:#084298;}
  #cartCountBadge{position:absolute;top:-5px;right:-5px;background:#dc3545;color:white;width:22px;height:22px;font-size:13px;border-radius:50%;display:flex;align-items:center;justify-content:center;}

  /* Cart Panel */
  #cartPanel{position:fixed;top:0;right:-350px;width:320px;height:100%;background:white;box-shadow:-8px 0 30px rgba(0,0,0,0.15);z-index:1000;transition:right 0.3s;padding:15px;display:flex;flex-direction:column;}
  #cartPanel.open{right:0;}
  #cartPanel header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;}
  #cartPanel header h3{color:#0d6efd;}
  #closeCartBtn{background:#eee;border:none;padding:6px 8px;border-radius:6px;cursor:pointer;}
  #cartList{flex:1;overflow:auto;}
  .cart-item{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #ddd;}
  .cart-item img{width:50px;height:50px;object-fit:contain;border-radius:5px;margin-right:10px;}
  .cart-item .info{flex:1;}
  .cart-item h4{font-size:14px;color:#111;margin-bottom:4px;}
  .cart-item p{font-size:13px;color:#555;margin-bottom:4px;}
  .qty-controls{display:flex;align-items:center;gap:5px;margin-top:5px;}
  .qty-btn{width:28px;height:28px;border:none;background:#eee;border-radius:6px;cursor:pointer;}
  .remove-btn{background:#dc3545;color:white;border:none;padding:4px 6px;border-radius:5px;font-size:12px;cursor:pointer;}
  #cartFooter{border-top:1px solid #ddd;padding-top:10px;margin-top:10px;}
  #cartFooter p{font-weight:bold;margin-bottom:10px;}
  .checkout-btn{background:#198754;color:white;border:none;padding:10px;width:100%;border-radius:6px;cursor:pointer;}

  .popup-bg{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);display:none;justify-content:center;align-items:center;z-index:1100;}
  .popup{background:white;padding:20px;width:90%;max-width:400px;border-radius:10px;}
  .popup input{width:100%;padding:10px;margin-bottom:12px;border-radius:6px;border:1px solid #ccc;}
  .popup button{padding:8px 12px;border:none;border-radius:6px;background:#0d6efd;color:white;cursor:pointer;}
</style>
</head>
<body>

<div class="container">
  <h2>Our Computer Products</h2>
<p style="text-align: center;margin-bottom: 10px;">‚ÄúBuy Laptops & Computers at the Best Prices ‚Äì Visit Our Shop Today!‚Äù</p>
  <div class="categories">
    <button class="active" onclick="filterCategory('all',event)">All</button>
    <button onclick="filterCategory('laptop',event)">Laptops</button>
    <button onclick="filterCategory('accessory',event)">Accessories</button>
    <button onclick="filterCategory('component',event)">Components</button>
    <button onclick="filterCategory('network',event)">Networking</button>
  </div>

  <div class="products" id="productList"></div>
</div>

<div id="floatingCart" onclick="toggleCartPanel()">üõí
  <div id="cartCountBadge">0</div>
</div>

<aside id="cartPanel">
  <header>
    <h3>Your Cart</h3>
    <button id="closeCartBtn" onclick="closeCartPanel()">‚úï</button>
  </header>

  <div id="cartList"></div>

  <div id="cartFooter">
    <p id="cartTotal">Total: ‚Çπ0</p>
    <button class="checkout-btn" onclick="openCheckout()">Checkout via WhatsApp</button>
  </div>
</aside>

<!-- Checkout Popup -->
<div class="popup-bg" id="checkoutPopup">
  <div class="popup">
    <h3>Enter Your Details</h3>

    <input type="text" id="custName" placeholder="Your Name">
    <input type="number" id="custPhone" placeholder="10-digit Phone">

    <!-- NEW ADDRESS FIELD -->
    <input type="text" id="custAddress" placeholder="Your Full Address">

    <button onclick="submitOrder()">Submit Order</button>
  </div>
</div>

<script>
const products = [
  {id:1, name:"HP Laptop 15s", price:45000, category:"laptop", img:"laptops/HP Laptop 15s.jpg", desc:"HP 15-inch Laptop with Intel i3 11th Gen, 8GB RAM, 512GB SSD"},
  {id:2, name:"Dell Inspiron", price:52000, category:"laptop", img:"laptops/Dell Inspiron.jpg", desc:"Dell Inspiron 15 Laptop with Intel i5 12th Gen, 8GB RAM, 512GB SSD "},
  {id:3, name:"Lenovo V15", price:48000, category:"laptop", img:"laptops/Lenovo V15.JPG", desc:"Lenovo V15 Laptop with Intel i3 12th Gen, 8GB RAM, 512GB SSD"},
  {id:4, name:"Acer Aspire 7", price:60000, category:"laptop", img:"laptops/Acer Aspire 7.jpg", desc:"Acer Aspire 7 with Ryzen 5 CPU, GTX 1650 GPU, 8GB RAM, 512GB SSD"},
  {id:5, name:"Keyboard & Mouse Combo", price:800, category:"accessory", img:"accessories/keyboard and mouse.jpg", desc:"Wireless keyboard and mouse combo ‚Äì Comfortable typing and smooth navigation."},
  {id:6, name:"Web Camera", price:2500, category:"accessory", img:"accessories/web camera.jpg", desc:"Full HD webcam ‚Äì Clear video quality for meetings, streaming, and online classes."},
  {id:7, name:"Speaker", price:2500, category:"accessory", img:"accessories/speaker.jpg", desc:"Portable speaker with deep bass ‚Äì Ideal for music, movies, and presentations."},
  {id:8, name:"Laptop Stand", price:2500, category:"accessory", img:"accessories/laptop stand.jpg", desc:"Ergonomic aluminum laptop stand ‚Äì Improve posture and cooling while working."},
  {id:9, name:"RAM Memory", price:3500, category:"component", img:"components/ram memory.jpg", desc:"8GB DDR4 RAM ‚Äì Enhance your PC‚Äôs multitasking and performance."},
  {id:10, name:"Motherboard", price:6500, category:"component", img:"components/motherboard.jpg", desc:"Intel/AMD compatible motherboard ‚Äì Stable and reliable base for your PC build."},
  {id:11, name:"Hard Disk", price:2500, category:"component", img:"components/hard disk.jpg", desc:"1TB HDD ‚Äì High-capacity storage for your files, documents, and media."},
  {id:12, name:"Cooling Fan", price:450, category:"component", img:"components/system fan.jpg", desc:"120mm cooling fan ‚Äì Keep your system cool and prevent overheating."},
  {id:13, name:"Wi-Fi Router", price:1800, category:"network", img:"networking/wifi router.jpg", desc:"1200Mbps Dual Band Wi-Fi router ‚Äì Fast and stable internet connectivity."},
  {id:14, name:"LAN Cable 10m", price:300, category:"network", img:"networking/lan cable 10m.jpg", desc:"Cat6 LAN cable, 10 meters ‚Äì Reliable wired network connection for home or office."},
  {id:15, name:"USB WiFi Adapter", price:550, category:"network", img:"networking/usb wifi adapter.jpg", desc:"300Mbps USB Wi-Fi adapter ‚Äì Connect any PC to wireless networks easily."},
  {id:16, name:"Network Switch", price:1300, category:"network", img:"networking/network switch.jpg", desc:"8-port network switch ‚Äì Expand your wired network for multiple devices."}
];

let cart = JSON.parse(localStorage.getItem('cart')) || [];
let filteredCategory = 'all';

function displayProducts(){
  const list = document.getElementById('productList');
  list.innerHTML = '';
  const filtered = filteredCategory === 'all' ? products : products.filter(p => p.category === filteredCategory);

  filtered.forEach(p => {
    const div = document.createElement('div');
    div.className = 'product';
    div.innerHTML = `
      <img src="${p.img}" alt="">
      <h3>${p.name}</h3>
      <p class="desc">${p.desc}</p>
      <p class="price">‚Çπ${p.price}</p>
      <button onclick="addToCart(${p.id})">Add to Cart</button>
    `;
    list.appendChild(div);
  });
}

function filterCategory(cat, event){
  filteredCategory = cat;
  document.querySelectorAll('.categories button').forEach(b => b.classList.remove('active'));
  event.target.classList.add('active');
  displayProducts();
}

function addToCart(id){
  const product = products.find(p => p.id === id);
  const existing = cart.find(c => c.id === id);
  if(existing) existing.qty++;
  else cart.push({...product, qty:1});
  updateCart();
}

function changeQty(id, delta){
  const item = cart.find(i => i.id === id);
  if(!item) return;
  item.qty += delta;
  if(item.qty <= 0) removeItem(id);
  else updateCart();
}

function removeItem(id){
  const item = cart.find(i => i.id === id);
  if(!item) return;
  const ok = confirm(`Remove "${item.name}" from cart?`);
  if(ok){
    cart = cart.filter(i => i.id !== id);
    updateCart();
  }
}

function updateCart(){
  localStorage.setItem('cart', JSON.stringify(cart));

  document.getElementById('cartCountBadge').innerText =
    cart.reduce((s, i) => s + i.qty, 0);

  const list = document.getElementById('cartList');
  list.innerHTML = '';

  if(cart.length === 0){
    list.innerHTML = '<p style="text-align:center;color:#666;">Cart is empty</p>';
    document.getElementById('cartTotal').innerText = 'Total: ‚Çπ0';
    return;
  }

  cart.forEach(item => {
    const div = document.createElement('div');
    div.className = 'cart-item';
    div.innerHTML = `
      <img src="${item.img}">
      <div class="info">
        <h4>${item.name}</h4>
        <p>‚Çπ${item.price}</p>
        <div class="qty-controls">
          <button class="qty-btn" onclick="changeQty(${item.id},-1)">-</button>
          <span>${item.qty}</span>
          <button class="qty-btn" onclick="changeQty(${item.id},1)">+</button>
        </div>
      </div>
      <button class="remove-btn" onclick="removeItem(${item.id})">Remove</button>
    `;
    list.appendChild(div);
  });

  const total = cart.reduce((s, i) => s + i.qty * i.price, 0);
  document.getElementById('cartTotal').innerText = 'Total: ‚Çπ' + total;
}

function toggleCartPanel(){ document.getElementById('cartPanel').classList.toggle('open'); }
function closeCartPanel(){ document.getElementById('cartPanel').classList.remove('open'); }

function openCheckout(){
  if(cart.length === 0){ alert('Cart is empty'); return; }
  document.getElementById('checkoutPopup').style.display = 'flex';
}

function closeCheckout(){
  document.getElementById('checkoutPopup').style.display = 'none';
}

/* ---------------------------
   FINAL WHATSAPP ORDER SYSTEM
-----------------------------*/
function submitOrder(){
  const name = document.getElementById('custName').value.trim();
  const phone = document.getElementById('custPhone').value.trim();
  const address = document.getElementById('custAddress').value.trim();

  if(name === '' || phone.length !== 10 || address === ''){
    alert("Enter valid Name, Phone and Address");
    return;
  }

  let msg = `Customer Name: ${name}\nPhone: ${phone}\nAddress: ${address}\n\nOrder Items:\n`;

  cart.forEach((i, idx) => {
    const shortName = i.name.substring(0, 25);
    msg += `${idx+1}. ${shortName} x${i.qty} = ‚Çπ${i.price * i.qty}\n`;
  });

  const total = cart.reduce((s,i) => s + i.qty*i.price, 0);

  msg += `\n------------------\nTotal Amount: ‚Çπ${total}\n------------------\n`;
  msg += `\nOnline Payment Only ‚Äì No Cash on Delivery\nDelivery in 3‚Äì4 Days\n`;

  const url = "https://api.whatsapp.com/send?phone=919360362776&text=";
  const encoded = encodeURIComponent(msg);

  window.open(url + encoded, "_blank");

  cart = [];
  localStorage.removeItem('cart');
  updateCart();
  closeCheckout();
  closeCartPanel();
}

displayProducts();
updateCart();
</script>

</body>
</html>
